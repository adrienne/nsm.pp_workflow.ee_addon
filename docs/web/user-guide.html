<h2>Requirements</h2> 
<p>Technical requirements include:</p> 
<ul> 
    <li><a href="http://ee-garage.com/nsm-morphine">NSM Morphine v2+ (for styling)</a></li>
	<li><a href="http://expressionengine.com">ExpressionEngine 2.2+</a></li>
	<li><a href="http://php.net">PHP 5.2+</a></li> 
	<li>A modern browser: <a href="http://firefox.com">Firefox</a>, <a href="http://www.apple.com/safari/download/">Safari</a>, <a href="http://www.google.com/chrome/">Google Chrome</a> or IE8+</li> 
</ul> 
 
<h2>Installation</h2> 
<ol> 
	<li><a href="#download">Download</a> the latest version of NSM Publish Plush: Workflow</li>
	<li>Extract the .zip file to your desktop</li>
	<li>Copy <code class="folder-path">system/expressionengine/third_party/nsm_pp_workflow</code> to <code class="folder-path">system/expressionengine/third_party</code></li> 
	<!--<li>Copy <code class="folder-path">themes/third_party/nsm_pp_workflow</code> to <code class="folder-path">themes/third_party</code> (you may need to create the <code class="folder-path">third_party</code> folder)</li> -->
	<li><a href="#activation">Activate</a> NSM Publish Plush in the ExpressionEngine Control Panel</li>
</ol>

<h2 id="activation">Activation</h2>

<ol>
	<li>Log into your control panel</li>
	<li>Browse to <a href="http://expressionengine.com/user_guide/cp/add-ons/extension_manager.html" target="_blank">Addons â†’ Extensions</a></li>
	<li>Enable all the NSM Publish Plus components</li>
	<li><a href="#configuration">Configure</a> the extension settings</li>
</ol>

<h2 id="configuration">Configuration</h2>

<div class="figure pull">
	<img src="/uploads/content/images/addons/nsm-publish-plus-workflow/extension-settings.png" width="610" alt="Overview" />
</div>
<h3 id="configuration.extension-settings">Extension settings</h3>
<h4 id="configuration.extension-settings.channel-settings">Channel settings</h4>
<dl>
	<dt id="configuration.extension-settings.channel-settings.enable">Enable?</dt>
	<dd>
		<p>Enable publish workflow for this channel. A new publish form tab will be added to enabled channels allowing you to customise the entry state and review period.</p></dd>
	
	<dt id="configuration.extension-settings.channel-settings.default-review-period">Default review period (days)</dt>
	<dd><p>Entry states will be changed and notifications will be sent after the default review period has passed. The  review period can be customised per entry in the publish form.</p></dd>
	
	<dt id="configuration.extension-settings.channel-settings.email-recipients">Email Recipients</dt>
	<dd><p>Email recipients will be sent a notification when an entry review period has passed. Enter multiple recipients on a new line. If the <strong>Email Author</strong> option has been checked the author of the entry will also be sent a notification email.</p></dd>
	
</dl>

<h4 id="configuration.extension-settings.notification-settings">Notification settings</h4>

<p>This section of the extension settings lets you configure the notification email that will be sent to the nominated recipients.</p>

<p>The <strong>'Email Subject'</strong> and <strong>'Email Message'</strong> fields can contain tag-data specific to the current entry that the notification is referring to. Variables include:</p>

<ul>
	<li><kbd>&#123;id&#125;</kbd></li>
	<li><kbd>&#123;entry_id&#125;</kbd></li>
	<li><kbd>&#123;channel_id&#125;</kbd></li>
	<li><kbd>&#123;site_id&#125;</kbd></li>
	<li><kbd>&#123;channel_id&#125;</kbd></li>
	<li><kbd>&#123;author_id&#125;</kbd></li>
	<li><kbd>&#123;title&#125;</kbd></li>
	<li><kbd>&#123;url_title&#125;</kbd></li>
	<li><kbd>&#123;status&#125;</kbd></li>
	<!--<li><kbd>&#123;versioning_enabled&#125;</kbd></li>
	<li><kbd>&#123;forum_topic_id&#125;</kbd></li>
	<li><kbd>&#123;view_count_one&#125;</kbd></li>
	<li><kbd>&#123;view_count_two&#125;</kbd></li>
	<li><kbd>&#123;view_count_three&#125;</kbd></li>
	<li><kbd>&#123;view_count_four&#125;</kbd></li>
	<li><kbd>&#123;comment_expiration_date&#125;</kbd></li>
	<li><kbd>&#123;last_comment_date&#125;</kbd></li>
	<li><kbd>&#123;recent_comment_date&#125;</kbd></li>
	<li><kbd>&#123;comment_total&#125;</kbd></li>
	<li><kbd>&#123;allow_comments&#125;</kbd></li>-->
	<li><kbd>&#123;sticky&#125;</kbd></li>
	<li><kbd>&#123;entry_date&#125;</kbd></li>
	<li><kbd>&#123;edit_date&#125;</kbd></li>
	<li><kbd>&#123;expiration_date&#125;</kbd></li>
	<li><kbd>&#123;channel_name&#125;</kbd></li>
	<li><kbd>&#123;channel_title&#125;</kbd></li>
	<li><kbd>&#123;channel_url&#125;</kbd></li>
	<li><kbd>&#123;channel_description&#125;</kbd></li>
	<li><kbd>&#123;channel_lang&#125;</kbd></li>
	<li><kbd>&#123;total_entries&#125;</kbd></li>
	<li><kbd>&#123;total_comments&#125;</kbd></li>
	<li><kbd>&#123;last_entry_date&#125;</kbd></li>
	<li><kbd>&#123;comment_url&#125;</kbd></li>
</ul>

<p>Additional variables provided by NSM Publish Plus Workflow include:</p>

<ul>
	<li><kbd>&#123;entry_state&#125;</kbd> - The current workflow state of the entry</li>
	<li><kbd>&#123;last_review_date&#125;</kbd> - The previous review date</li>
	<li><kbd>&#123;next_review_date&#125;</kbd> - The current review date</li>
	<li><kbd>&#123;entry_url&#125;</kbd> - URL to preview the entry on the website</li>
	<li><kbd>&#123;cp_entry_url&#125;</kbd> - URL to open the entry in the Control Panel with the Content Edit form</li>
</ul>

<p>These tags can be used in the 'Email subject' and 'Email message' fields.</p>


<h4 id="configuration.extension-settings.automation">Automation</h4>
<p>Use this url to <a href="/nsm-publish-plus-workflow/tutorial#toc-automating_entry_reviews">setup CRON jobs for automation</a>. Visiting / pinging this URL will test entry review dates and change the state and notify administrators where required.</p>
